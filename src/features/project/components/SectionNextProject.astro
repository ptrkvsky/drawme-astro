---
---

<script>
  import gsap from 'gsap';
  import ScrollTrigger from 'gsap/ScrollTrigger';
  import config from 'src/config';
  gsap.registerPlugin(ScrollTrigger);

  function toggleSection() {
    document.getElementById('next-project').classList.toggle('visible');
  }

  document.addEventListener('DOMContentLoaded', function () {
    const marker = {
      startColor: 'purple',
      endColor: 'pink',
      fontSize: '36px',
      fontWeight: 'bold',
      indent: 20,
    };
    const markers = config.mode === 'development' ? marker : false;

    ScrollTrigger.create({
      trigger: 'footer',
      start: 'top bottom',
      endTrigger: 'footer',
      markers: markers,
      onToggle: () => {
        toggleSection();
      },
    });
  });
</script>

<div id="next-project" class="next-project">
  <div class="wrapper">
    <p class="see-next">
      See <span class="highlight">Next</span>
      <br /> Project ?
    </p>
    <div class="answers">
      <span>Yes</span>
      <span>No</span>
    </div>
  </div>
</div>
<style lang="scss">
  .next-project {
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;

    display: flex;
    justify-content: center;
    align-items: center;

    background-color: black;
    z-index: -1;
    opacity: 0;
    transition: all ease-in-out 1s;

    &.visible {
      z-index: 999;
      height: 100%;
      opacity: 1;
    }
  }

  .wrapper {
    position: relative;
    top: -15px;
  }

  .see-next {
    font-family: var(--text-heading);
    color: var(--color-white-beauty);
    font-size: 20rem;

    .highlight {
      color: var(--color-ice-ice-baby);
    }
  }

  .answers {
    display: flex;
    gap: 16px;
    font-family: var(--text-body-medium);
    color: var(--color-white-beauty);
    font-size: 4rem;
  }
</style>
